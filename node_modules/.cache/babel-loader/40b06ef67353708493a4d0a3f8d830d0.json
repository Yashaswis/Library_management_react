{"ast":null,"code":"var _jsxFileName = \"D:\\\\React_projects\\\\library_management\\\\src\\\\App.js\";\nimport React, { Component } from 'react';\nimport './App.css';\nimport { Container, Button, Alert } from 'react-bootstrap';\nimport ProductList from './ProductList';\nimport AddProduct from './AddProduct';\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n\n    this.editProduct = productId => {\n      const apiUrl = 'http://localhost/dev/tcxapp/reactapi/getProduct';\n      const formData = new FormData();\n      formData.append('productId', productId);\n      const options = {\n        method: 'POST',\n        body: formData\n      };\n      fetch(apiUrl, options).then(res => res.json()).then(result => {\n        this.setState({\n          product: result,\n          isEditProduct: true,\n          isAddProduct: true\n        });\n      }, error => {\n        this.setState({\n          error\n        });\n      });\n    };\n\n    this.state = {\n      isAddProduct: false,\n      error: null,\n      response: {},\n      product: {},\n      isEditProduct: false\n    };\n    this.onFormSubmit = this.onFormSubmit.bind(this);\n  }\n\n  onCreate() {\n    this.setState({\n      isAddProduct: true\n    });\n  }\n\n  onFormSubmit(data) {\n    let apiUrl;\n\n    if (this.state.isEditProduct) {\n      apiUrl = 'http://localhost/dev/tcxapp/reactapi/editProduct';\n    } else {\n      apiUrl = 'http://localhost/dev/tcxapp/reactapi/createProduct';\n    }\n\n    const myHeaders = new Headers();\n    myHeaders.append('Content-Type', 'application/json');\n    const options = {\n      method: 'POST',\n      body: JSON.stringify(data),\n      myHeaders\n    };\n    fetch(apiUrl, options).then(res => res.json()).then(result => {\n      this.setState({\n        response: result,\n        isAddProduct: false,\n        isEditProduct: false\n      });\n    }, error => {\n      this.setState({\n        error\n      });\n    });\n  }\n\n  render() {\n    let productForm;\n\n    if (this.state.isAddProduct || this.state.isEditProduct) {\n      productForm = /*#__PURE__*/React.createElement(AddProduct, {\n        onFormSubmit: this.onFormSubmit,\n        product: this.state.product,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 21\n        }\n      });\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"App\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Container, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      style: {\n        textAlign: 'center'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 11\n      }\n    }, \"React Tutorial\"), !this.state.isAddProduct && /*#__PURE__*/React.createElement(Button, {\n      variant: \"primary\",\n      onClick: () => this.onCreate(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 40\n      }\n    }, \"Add Product\"), this.state.response.status === 'success' && /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 56\n      }\n    }, /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 61\n      }\n    }), /*#__PURE__*/React.createElement(Alert, {\n      variant: \"info\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 67\n      }\n    }, this.state.response.message)), !this.state.isAddProduct && /*#__PURE__*/React.createElement(ProductList, {\n      editProduct: this.editProduct,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 40\n      }\n    }), productForm, this.state.error && /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 32\n      }\n    }, \"Error: \", this.state.error.message)));\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["D:/React_projects/library_management/src/App.js"],"names":["React","Component","Container","Button","Alert","ProductList","AddProduct","App","constructor","props","editProduct","productId","apiUrl","formData","FormData","append","options","method","body","fetch","then","res","json","result","setState","product","isEditProduct","isAddProduct","error","state","response","onFormSubmit","bind","onCreate","data","myHeaders","Headers","JSON","stringify","render","productForm","textAlign","status","message"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport './App.css';\nimport { Container, Button, Alert } from 'react-bootstrap';\nimport ProductList from './ProductList';\nimport AddProduct from './AddProduct';\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isAddProduct: false,\n      error: null,\n      response: {},\n      product: {},\n      isEditProduct: false\n    }\n    this.onFormSubmit = this.onFormSubmit.bind(this);\n  }\n\n  onCreate() {\n    this.setState({ isAddProduct: true });\n  }\n\n  onFormSubmit(data) {\n    let apiUrl;\n\n    if(this.state.isEditProduct){\n      apiUrl = 'http://localhost/dev/tcxapp/reactapi/editProduct';\n    } else {\n      apiUrl = 'http://localhost/dev/tcxapp/reactapi/createProduct';\n    }\n\n    const myHeaders = new Headers();\n    myHeaders.append('Content-Type', 'application/json');\n\n    const options = {\n      method: 'POST',\n      body: JSON.stringify(data),\n      myHeaders\n    };\n\n    fetch(apiUrl, options)\n      .then(res => res.json())\n      .then(result => {\n        this.setState({\n          response: result,\n          isAddProduct: false,\n          isEditProduct: false\n        })\n      },\n      (error) => {\n        this.setState({ error });\n      }\n    )\n  }\n\n  editProduct = productId => {\n\n    const apiUrl = 'http://localhost/dev/tcxapp/reactapi/getProduct';\n    const formData = new FormData();\n    formData.append('productId', productId);\n\n    const options = {\n      method: 'POST',\n      body: formData\n    }\n\n    fetch(apiUrl, options)\n      .then(res => res.json())\n      .then(\n        (result) => {\n          this.setState({\n            product: result,\n            isEditProduct: true,\n            isAddProduct: true\n          });\n        },\n        (error) => {\n          this.setState({ error });\n        }\n      )\n  }\n\n  render() {\n\n    let productForm;\n    if(this.state.isAddProduct || this.state.isEditProduct) {\n      productForm = <AddProduct onFormSubmit={this.onFormSubmit} product={this.state.product} />\n    }\n\n    return (\n      <div className=\"App\">\n        <Container>\n          <h1 style={{textAlign:'center'}}>React Tutorial</h1>\n          {!this.state.isAddProduct && <Button variant=\"primary\" onClick={() => this.onCreate()}>Add Product</Button>}\n          {this.state.response.status === 'success' && <div><br /><Alert variant=\"info\">{this.state.response.message}</Alert></div>}\n          {!this.state.isAddProduct && <ProductList editProduct={this.editProduct}/>}\n          { productForm }\n          {this.state.error && <div>Error: {this.state.error.message}</div>}\n        </Container>\n      </div>\n    );\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}