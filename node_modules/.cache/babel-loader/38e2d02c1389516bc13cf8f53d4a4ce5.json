{"ast":null,"code":"var _jsxFileName = \"D:\\\\React_projects\\\\library_management\\\\src\\\\ProductList.js\";\nimport React from 'react';\nimport { Table, Button, Alert } from 'react-bootstrap';\n\nclass ProductList extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      error: null,\n      products: [],\n      response: {}\n    };\n  }\n\n  componentDidMount() {\n    const apiUrl = 'http://localhost/dev/tcxapp/reactapi/products';\n    fetch(apiUrl).then(res => res.json()).then(result => {\n      this.setState({\n        products: result\n      });\n    }, error => {\n      this.setState({\n        error\n      });\n    });\n  }\n\n  deleteProduct(productId) {\n    const {\n      products\n    } = this.state;\n    const apiUrl = 'http://localhost/dev/tcxapp/reactapi/deleteProduct';\n    const formData = new FormData();\n    formData.append('productId', productId);\n    const options = {\n      method: 'POST',\n      body: formData\n    };\n    fetch(apiUrl, options).then(res => res.json()).then(result => {\n      this.setState({\n        response: result,\n        products: products.filter(product => product.id !== productId)\n      });\n    }, error => {\n      this.setState({\n        error\n      });\n    });\n  }\n\n  render() {\n    const {\n      error,\n      products\n    } = this.state;\n\n    if (error) {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 9\n        }\n      }, \"Error: \", error.message);\n    } else {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"h2\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 11\n        }\n      }, \"Product List\"), this.state.response.message && /*#__PURE__*/React.createElement(Alert, {\n        variant: \"info\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 43\n        }\n      }, this.state.response.message), /*#__PURE__*/React.createElement(Table, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"thead\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"tr\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"th\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 17\n        }\n      }, \"#ID\"), /*#__PURE__*/React.createElement(\"th\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 17\n        }\n      }, \"Product Name\"), /*#__PURE__*/React.createElement(\"th\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 17\n        }\n      }, \"SKU\"), /*#__PURE__*/React.createElement(\"th\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 17\n        }\n      }, \"Price\"), /*#__PURE__*/React.createElement(\"th\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 17\n        }\n      }, \"Action\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 13\n        }\n      }, products.map(product => /*#__PURE__*/React.createElement(\"tr\", {\n        key: product.id,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 19\n        }\n      }, product.id), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 19\n        }\n      }, product.product_name), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 19\n        }\n      }, product.sku), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 19\n        }\n      }, product.price), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(Button, {\n        variant: \"info\",\n        onClick: () => this.props.editProduct(product.id),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 21\n        }\n      }, \"Edit\"), \"\\xA0\", /*#__PURE__*/React.createElement(Button, {\n        variant: \"danger\",\n        onClick: () => this.deleteProduct(product.id),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 27\n        }\n      }, \"Delete\")))))));\n    }\n  }\n\n}\n\nexport default ProductList;","map":{"version":3,"sources":["D:/React_projects/library_management/src/ProductList.js"],"names":["React","Table","Button","Alert","ProductList","Component","constructor","props","state","error","products","response","componentDidMount","apiUrl","fetch","then","res","json","result","setState","deleteProduct","productId","formData","FormData","append","options","method","body","filter","product","id","render","message","map","product_name","sku","price","editProduct"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport { Table, Button, Alert } from 'react-bootstrap';\r\n\r\nclass ProductList extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      error: null,\r\n      products: [],\r\n      response: {}\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    const apiUrl = 'http://localhost/dev/tcxapp/reactapi/products';\r\n\r\n    fetch(apiUrl)\r\n      .then(res => res.json())\r\n      .then(\r\n        (result) => {\r\n          this.setState({\r\n            products: result\r\n          });\r\n        },\r\n        (error) => {\r\n          this.setState({ error });\r\n        }\r\n      )\r\n  }\r\n\r\n  deleteProduct(productId) {\r\n    const { products } = this.state;\r\n\r\n    const apiUrl = 'http://localhost/dev/tcxapp/reactapi/deleteProduct';\r\n    const formData = new FormData();\r\n    formData.append('productId', productId);\r\n\r\n    const options = {\r\n      method: 'POST',\r\n      body: formData\r\n    }\r\n\r\n    fetch(apiUrl, options)\r\n      .then(res => res.json())\r\n      .then(\r\n        (result) => {\r\n          this.setState({\r\n            response: result,\r\n            products: products.filter(product => product.id !== productId)\r\n          });\r\n        },\r\n        (error) => {\r\n          this.setState({ error });\r\n        }\r\n      )\r\n  }\r\n\r\n  render() {\r\n    const { error, products} = this.state;\r\n\r\n    if(error) {\r\n      return (\r\n        <div>Error: {error.message}</div>\r\n      )\r\n    } else {\r\n      return(\r\n        <div>\r\n          <h2>Product List</h2>\r\n          {this.state.response.message && <Alert variant=\"info\">{this.state.response.message}</Alert>}\r\n          <Table>\r\n            <thead>\r\n              <tr>\r\n                <th>#ID</th>\r\n                <th>Product Name</th>\r\n                <th>SKU</th>\r\n                <th>Price</th>\r\n                <th>Action</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {products.map(product => (\r\n                <tr key={product.id}>\r\n                  <td>{product.id}</td>\r\n                  <td>{product.product_name}</td>\r\n                  <td>{product.sku}</td>\r\n                  <td>{product.price}</td>\r\n                  <td>\r\n                    <Button variant=\"info\" onClick={() => this.props.editProduct(product.id)}>Edit</Button>\r\n                    &nbsp;<Button variant=\"danger\" onClick={() => this.deleteProduct(product.id)}>Delete</Button>\r\n                  </td>\r\n                </tr>\r\n              ))}\r\n            </tbody>\r\n          </Table>\r\n        </div>\r\n      )\r\n    }\r\n  }\r\n}\r\n\r\nexport default ProductList;"]},"metadata":{},"sourceType":"module"}